제조 공정 불량 분석 및 예측 모델 구축

데이터셋: Kaggle UCI SECOM

대규모 반도체/제조 공정 데이터를 분석하여 불량 발생과 관련된 센서를 도출하고, 공정 변수와 불량 간의 관계를 확인한 프로젝트입니다.
특정 센서 및 공정 변수 조합에서 불량 확률이 높음을 확인하고, 이를 기반으로 불량 예측 모델을 구축했습니다.

1. 프로젝트 개요

본 프로젝트는 UCI SECOM 데이터를 기반으로,
제품이 공정을 통과하며 발생하는 불량 패턴을 분석하고,
불량 발생에 영향을 미치는 공정 변수 및 센서를 탐색하여 개선 및 예측 가능성을 도출하는 것을 목표로 합니다.

단순한 불량 예측을 넘어,
공정 변수 간 상호작용과 불량 발생 관계를 이해하고,
실제 운영 개선에 적용 가능한 인사이트 제공에 초점을 맞췄습니다.

2. 문제 정의 (Problem Statement)

대규모 공정 데이터에서는 다음과 같은 문제가 발생합니다.

불량 제품이 어떤 센서/공정 변수에서 발생했는지 명확히 파악하기 어려움

변수 수가 많고 데이터가 고차원이라 문제 구간 특정이 어려움

불량 발생을 사전에 예측하거나 예방할 기준이 부족

핵심 문제:

“불량 제품은 어떤 센서/공정 변수 패턴에서 발생하며, 문제 구간을 사전에 예측할 수 있는가?”

3. 데이터 설명

데이터셋: UCI SECOM

샘플 수: 1567

센서 변수: 590개 이상

타겟: Pass/Fail (-1 = 정상, 1 = 불량)

특징:

센서별 측정 값

결측치 존재

고차원, 비선형 관계

4. 분석 접근 방식
4-1. 기본 분석

불량 제품 비율 확인 (클래스 불균형 약 6.6%)

결측치 패턴 확인

저분산 변수 및 상관 변수 제거

4-2. 핵심 가설

“불량 제품은 정상 제품과 다른 센서 패턴을 가질 것이다.”

센서 값과 불량의 관계 분석

고차원 변수 중 핵심 센서 도출

불량 집중 패턴 확인

5. 핵심 분석 내용
5-1. 전처리

결측치 70% 이상 변수 제거

저분산 변수 제거

상관관계 높은 변수 제거

최종 변수 수: 202개

5-2. 모델링

Logistic Regression

클래스 불균형 보정 (class_weight)

StandardScaler 적용

결과: ROC-AUC ≈ 0.68, 불량 Recall 낮음

XGBoost

scale_pos_weight로 불균형 보정

비선형 관계 학습

ROC-AUC ≈ 0.80

Threshold 0.3 적용 시 불량 Recall 개선

5-3. Feature Importance

XGBoost 기반 상위 20개 센서 도출

불량 발생에 가장 영향력 있는 센서 확인 가능

6. 주요 인사이트

불량 제품은 정상 센서 패턴에서 벗어나는 경향 존재

일부 센서 조합에서 불량 확률이 높음

Threshold 조정으로 실무 Recall 개선 가능

선형 모델만으로는 불량 탐지 한계 → 비선형 모델 필요

7. 개선 및 활용 방안

중요 센서 모니터링 강화

Threshold 기반 불량 사전 검출 시스템 구축

공정 조건 변화에 따른 실시간 모니터링 및 알람 시스템 구현

8. 사용 기술

언어: Python

라이브러리: Pandas, NumPy, Matplotlib, Seaborn, scikit-learn, XGBoost, SHAP

분석 기법: 데이터 전처리, Feature Selection, Logistic Regression, XGBoost, Threshold 조정, Feature Importance, SHAP 시각화

9. 프로젝트 의의

공정 변수 이해 + 불량 예측 모델 구축

단순 모델링을 넘어 데이터 기반 의사결정 지원

제조/반도체 공정에서 실제 활용 가능한 분석 구조 설계

10. 문제 발생 및 해결 과정
문제 1. 고차원 공정 데이터

해결: 결측치 제거, 저분산 변수 제거, 상관 변수 제거

문제 2. 불균형 클래스

해결: Logistic class_weight, XGBoost scale_pos_weight, Threshold 조정

문제 3. 불량 탐지 어려움

해결: XGBoost 적용, Threshold 0.3으로 Recall 개선, Feature Importance 도출

11. 분석을 통해 얻은 교훈

공정 변수 간 상호작용을 이해해야 불량 원인 파악 가능

단일 변수 분석보다 공정 패턴 분석이 핵심 인사이트 제공

데이터 분석 결과를 Threshold 조정, Feature Importance 활용 등 실무 적용까지 연결 가능